/* Stepper 進度條 */
.stepper {
    display: flex;
    background: white;
    padding: 15px;
    border-radius: 8px;
    margin-bottom: 20px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    overflow-x: auto;
    gap: 10px;
}

.step {
    text-align: center;
    min-width: 100px;
    padding: 15px 10px;
    color: #ccc;
    position: relative;
    font-size: 0.85rem;
    cursor: pointer;
    border-radius: 4px;
    transition: 0.2s;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}
.step:hover { background-color: #f9f9f9; }
.step.active { color: var(--primary-color); font-weight: bold; background-color: #e0f2f1; }
.step i.step-icon { font-size: 1.4rem; margin-bottom: 8px; display: block; }

/* 階段刪除按鈕 (右上角懸浮) */
.step-delete-btn {
    position: absolute;
    top: 5px;
    right: 5px;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: #ffebee;
    color: var(--danger-color);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.7rem;
    opacity: 0; /* 預設隱藏 */
    transition: 0.2s;
    border: 1px solid #ffcdd2;
}
.step:hover .step-delete-btn { opacity: 1; }
.step-delete-btn:hover { background: var(--danger-color); color: white; transform: scale(1.1); }

/* 階段編輯按鈕 (文字旁) */
.step-edit-btn {
    display: inline-block;
    margin-left: 5px;
    font-size: 0.75rem;
    opacity: 0.5;
    transition: 0.2s;
    vertical-align: middle;
}
.step:hover .step-edit-btn { opacity: 1; color: var(--info-color); }

/* Tabs */
.tabs { display: flex; margin-bottom: 0px; border-bottom: 1px solid var(--border-color); overflow-x: auto; }
.tab { 
    padding: 12px 20px; 
    cursor: pointer; 
    border-radius: 8px 8px 0 0; 
    background: #eee; 
    margin-right: 4px; 
    color: #666; 
    transition: 0.3s; 
    white-space: nowrap;
    display: flex;
    align-items: center;
}
.tab.active { background: white; color: var(--primary-color); border: 1px solid var(--border-color); border-bottom: 2px solid white; font-weight: bold; }

.add-tab-btn { font-size: 1.2rem; padding: 5px 15px; color: #999; }
.add-tab-btn:hover { color: var(--primary-color); }

/* 表格與內容區塊 */
.content-box {
    background: white;
    padding: 20px;
    border: 1px solid var(--border-color);
    border-top: none;
    border-radius: 0 0 8px 8px;
    min-height: 400px;
}

/* 特定按鈕樣式 */
.btn-add { background: var(--primary-color); color: white; }
.btn-delete { background: #fff; color: var(--danger-color); border: 1px solid #e0e0e0; }
.btn-info { background: var(--info-color); color: white; }
.btn-success { background: var(--success-color); color: white; }
.btn-edit { border: 1px solid var(--primary-color); color: var(--primary-color); background: white; }
.btn-save { background: var(--success-color); color: white; }
.btn-outline { border: 1px solid #ccc; background: white; color: #555; }

/* 明細版型樣式 */
.detail-info-grid {
    display: grid;
    grid-template-columns: 140px 1fr 140px 1fr;
    gap: 10px;
    background: #f9f9f9;
    padding: 15px;
    border-radius: 4px;
    margin-top: 10px;
    border: 1px solid #eee;
}
.detail-label { font-weight: bold; color: #555; background: #eceff1; padding: 6px 10px; border-radius: 3px; text-align: right; display: flex; align-items: center; justify-content: flex-end; }
.detail-value { padding: 6px 10px; border-bottom: 1px solid #eee; background: #fff; line-height: 1.6; }
.full-width { grid-column: span 3; }

/* Expandable List Styles */
.hidden-row { display: none; }
.expanded { display: table-row; background-color: #fafafa; }
.attachment-link { color: var(--info-color); text-decoration: none; display: inline-flex; align-items: center; gap: 5px; margin-right: 15px; font-size: 0.85rem; }
.attachment-link:hover { text-decoration: underline; }

/* --- 委員名單與列表樣式 (補) --- */
.tag { padding: 2px 8px; border-radius: 4px; font-size: 0.75rem; font-weight: bold; display: inline-block; margin: 2px; }
.tag-pass { background: #e8f5e9; color: var(--success-color); border: 1px solid var(--success-color); }
.tag-review { background: #fff3e0; color: var(--warning-color); border: 1px solid var(--warning-color); }
.tag-blue { background: #e3f2fd; color: #1976d2; border: 1px solid #1976d2; }

.status-badge { padding: 2px 8px; border-radius: 20px; font-size: 0.75rem; font-weight: bold; }
.status-confirmed { background: #e8f5e9; color: #2e7d32; }
.status-pending { background: #fff3e0; color: #ef6c00; }
.status-declined { background: #ffebee; color: #c62828; }

/* --- 預覽頁面樣式 (TypePreview) --- */
.editor-container {
    background: white;
    /* border: 1px solid var(--border-color); */
    border-top: none;
    padding: 0;
    /* border-radius: 0 0 8px 8px; */
}

.mode-switcher {
    display: inline-flex;
    background: #eee;
    padding: 5px;
    border-radius: 8px;
    margin-bottom: 20px;
}
.mode-btn {
    padding: 8px 20px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    color: #666;
    background: transparent;
    transition: 0.3s;
}
.mode-btn.active {
    background: white;
    color: var(--primary-color);
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.editor-grid {
    display: grid;
    grid-template-columns: 1fr 340px;
    gap: 25px;
    align-items: start;
}

.form-group { margin-bottom: 20px; }
.form-group label { display: block; font-weight: bold; margin-bottom: 8px; color: #444; font-size: 0.95rem; }
.form-group input, .form-group textarea, .form-group select {
    width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 6px; box-sizing: border-box; font-family: inherit; font-size: 0.95rem;
}
.form-group textarea:focus, .form-group input:focus {
    border-color: var(--primary-color); outline: none; box-shadow: 0 0 0 3px rgba(0,121,107,0.1);
}

.rich-editor-tools {
    background: #f8f9fa; padding: 10px; border: 1px solid #ccc; border-bottom: none; border-radius: 6px 6px 0 0;
    display: flex; gap: 10px; align-items: center;
}
.tool-btn { background: white; border: 1px solid #ddd; padding: 5px 10px; cursor: pointer; border-radius: 4px; font-size: 0.85rem; }
.tool-btn:hover { background: #eee; }

/* 預覽面板 */
.preview-pane {
    display: none;
    background: #333;
    border-radius: 12px;
    border: 1px solid #555;
    box-shadow: 0 20px 50px rgba(0,0,0,0.3);
    overflow: hidden;
    animation: fadeIn 0.4s ease;
}
.preview-pane.active { display: block; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

.browser-chrome {
    background: #e0e0e0; padding: 12px; display: flex; align-items: center; gap: 15px; border-bottom: 1px solid #ccc;
}
.chrome-dots { display: flex; gap: 8px; }
.dot { width: 12px; height: 12px; border-radius: 50%; background: #ff5f56; }
.chrome-address { 
    background: white; flex: 1; border-radius: 20px; padding: 4px 15px; font-size: 13px; color: #666; 
    display: flex; align-items: center; gap: 8px; border: 1px solid #d0d0d0;
}

.portal-container {
    background-color: #f5f7f9;
    color: #333;
    font-size: 16px;
    line-height: 1.6;
    height: 750px;
    overflow-y: auto;
}

.portal-header { background: white; padding: 15px 8%; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; }
.portal-logo { font-weight: bold; color: #00796b; display: flex; align-items: center; gap: 10px; font-size: 20px; }
.portal-nav { background: #00796b; color: white; padding: 12px 8%; display: flex; gap: 25px; font-size: 14px; }

.portal-main { padding: 30px 8%; display: grid; grid-template-columns: 1fr 320px; gap: 30px; }
.portal-breadcrumb { font-size: 13px; color: #888; margin-bottom: 20px; grid-column: span 2; }

.portal-spec-card { background: white; border-radius: 8px; border: 1px solid #e0e0e0; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.05); }
.spec-header { background: #546e7a; color: white; padding: 15px 25px; display: flex; justify-content: space-between; align-items: center; font-weight: bold; font-size: 1.1rem; }

.spec-table { width: 100%; border-collapse: collapse; }
.spec-table th { width: 180px; background: #f8f9fa; padding: 18px 25px; text-align: left; border-bottom: 1px solid #eee; color: #455a64; font-weight: bold; vertical-align: top; }
.spec-table td { padding: 18px 25px; border-bottom: 1px solid #eee; vertical-align: top; font-size: 0.95rem; }
.spec-highlight { color: #00796b; font-weight: bold; font-size: 1.2rem; }

.portal-sidebar-box { background: white; border: 1px solid #e0e0e0; border-radius: 8px; margin-bottom: 25px; padding: 25px; border-top: 5px solid #546e7a; }
.sidebar-title { font-weight: bold; border-bottom: 2px solid #f0f0f0; padding-bottom: 12px; margin-bottom: 18px; color: #37474f; }
.status-box { background: #eceff1; text-align: center; padding: 25px; border-radius: 8px; margin-bottom: 20px; }
.status-text { font-size: 28px; color: #00796b; font-weight: bold; }
.apply-btn { width: 100%; background: #ff7043; color: white; padding: 15px; border: none; border-radius: 6px; font-size: 18px; font-weight: bold; cursor: pointer; transition: 0.2s; }
.apply-btn:hover { background: #f4511e; }

/* 發佈控制台 */
.publish-console {
    background: #fff;
    padding: 20px;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    position: sticky;
    top: 20px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.05);
}
.console-section { border-bottom: 1px solid #f0f0f0; padding: 15px 0; }
.console-section:last-child { border-bottom: none; }
.console-title { font-weight: bold; margin-bottom: 15px; display: flex; align-items: center; gap: 8px; color: var(--primary-color); }

.toggle-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
.toggle-label { font-size: 0.9rem; color: #555; }

.switch { position: relative; display: inline-block; width: 44px; height: 22px; }
.switch input { opacity: 0; width: 0; height: 0; }
.slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; border-radius: 22px; }
.slider:before { position: absolute; content: ""; height: 16px; width: 16px; left: 3px; bottom: 3px; background-color: white; transition: .4s; border-radius: 50%; }
input:checked + .slider { background-color: var(--success-color); }
input:checked + .slider:before { transform: translateX(22px); }

.btn-action { width: 100%; padding: 12px; border-radius: 6px; border: none; font-weight: bold; cursor: pointer; margin-top: 12px; font-size: 1rem; }
.btn-main { background: var(--primary-color); color: white; }
.btn-save { background: #f5f5f5; color: #666; border: 1px solid #ddd; } /* Override generic btn-save for this panel if needed, but above generic class might conflict. Check specificity. */

.schedule-info { font-size: 11px; color: #ef6c00; background: #fff3e0; padding: 10px; border-radius: 6px; margin-top: 10px; line-height: 1.4; }
.history-list { font-size: 0.85rem; color: #888; margin-top: 15px; border-top: 1px solid #eee; padding-top: 15px; }

/* 標籤樣式 (後台) */
.tag-editor-box {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 6px;
    background: #fafafa;
    min-height: 45px;
    align-items: center;
}
.backend-tag {
    background: #e0f2f1;
    color: var(--primary-color);
    padding: 4px 12px;
    border-radius: 4px;
    font-size: 13px;
    display: flex;
    align-items: center;
    gap: 6px;
    border: 1px solid #b2dfdb;
}
.backend-tag i { cursor: pointer; color: #888; }
.backend-tag i:hover { color: var(--danger-color); }

.tag-input-wrapper { display: flex; gap: 5px; flex: 1; min-width: 150px; }
.tag-input-wrapper input { border: none !important; background: transparent !important; padding: 4px !important; font-size: 13px !important; width: 100%; }
.tag-input-wrapper input:focus { box-shadow: none !important; }
.btn-add-tag { background: #fff; border: 1px solid #ccc; padding: 2px 8px; border-radius: 4px; font-size: 12px; cursor: pointer; }

/* 前台標籤樣式 */
.portal-tag { display: inline-block; background: #f1f8e9; color: #558b2f; padding: 2px 10px; border-radius: 4px; font-size: 12px; margin-right: 6px; font-weight: bold; border: 1px solid #dcedc8; }
.portal-tag::before { content: "#"; margin-right: 2px; }

/* --- 前台上下架狀態控制樣式 --- */
.row-unpublished {
    background-color: #fafafa !important;
    opacity: 0.65;
}

.row-unpublished:hover {
    opacity: 0.85;
}

.publish-toggle-cell {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

.publish-status-label {
    font-weight: 500;
    display: flex;
    align-items: center;
    gap: 4px;
}

/* Toast 動畫 */
@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateX(50px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes slideOut {
    from {
        opacity: 1;
        transform: translateX(0);
    }
    to {
        opacity: 0;
        transform: translateX(50px);
    }
}
